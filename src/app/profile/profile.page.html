<app-header [isBackBtnAvailable]=true></app-header>
<ion-content [fullscreen]="true">

  <h2 class="page-header">Профиль</h2>
  <div class="container">
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <ion-input type="text" name="name" errorText="Это поле обязательно для заполнения" formControlName="name"
                 label="Имя" labelPlacement="floating" value="{{userData.name}}"></ion-input>


      <ion-input type="text" name="surname" errorText="Это поле обязательно для заполнения" formControlName="surname"
                 label="Фамилия" labelPlacement="floating"  value="{{userData.surname}}"></ion-input>


      <ion-input type="text" name="address" errorText="Это поле обязательно для заполнения" formControlName="address"
                 label="Адрес" labelPlacement="floating"  value="{{userData.address}}"></ion-input>


      <ion-input type="tel" name="phone" errorText="Неверный телефон" formControlName="phone" label="Телефон"
                 labelPlacement="floating"  value="{{userData.phone}}"></ion-input>


      <ion-input type="password" name="password" errorText="Это поле обязательно для заполнения" class="password"
                 formControlName="password" labelPlacement="floating" label="Пароль"  value="{{userData.password}}"></ion-input>


      <ion-button class="submit-btn" type="submit">Сохранить</ion-button>
    </form>
  </div>

  <ion-card *ngFor="let order of this.orders$ | async; index as i">
    <ion-card-header>
      <ion-card-subtitle>Заказ {{ i + 1 }}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <ion-text>Дата заказа: {{ order.date }}</ion-text><br>
      <ion-text>Товары в заказе: </ion-text><br>
      <div *ngFor="let item of order.product">
        - {{ item.berries }}
      </div>
      <ion-text>Сумма заказа: {{ calculateSumOfOrder(order) }} ₽</ion-text><br>
    </ion-card-content>
  </ion-card>
</ion-content>
